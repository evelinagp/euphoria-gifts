<html lang="en"
      xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments/commons::head"></head>

<body>
<div class="wrapper">
    <!-- Navigation -->

    <header th:replace="fragments/commons::navigation"></header>
    <main class="p-5 align-content-center bg-blur my-details-div my-main">
        <input type="hidden" name="giftId" id="giftId" th:value="${gift.id}">
        <div class="col d-flex justify-content-center">
            <div class="card text-light" th:object="${gift}" style="width:27rem;">
                <img class="card-img-top" th:src="*{picture.url}" alt="Card image cap">
                <div class="card-body">
                    <h4 id="gift-name" th:text="*{name}"></h4>
                    <h4>Description:</h4>
                    <p id="gift-description" th:text="*{description}">Description: </p>
                    <h4>Price:</h4>
                    <p id="gift-price" th:text="*{price}">Price: </p>
                    <h4>Category:</h4>
                    <p id="gift-category" th:text="*{category.categoryName}">Category: </p>
                    <!--                <img class="rounded" th:each="p: *{pictures}" th:src="${p.url}" height="60%" alt="">-->
                </div>
                <ul th:if="${isAdmin}">
                    <li>
                        <div class="card-body">
                            <a th:href="@{/pages/admins/delete-gift/{id}(id=*{id})}"
                               class="card-link text-light h5 bold">Delete</a>
                            <a th:href="@{/pages/admins/edit-gift/{id}(id=*{id})}"
                               class="card-link text-light h5 bold">Edit</a>

                        </div>
                    </li>
                </ul>
                <!--        <input type="hidden" name="giftId" id="giftId" th:value="${gift.id}">-->
                <!--        <div class="details-main text-light" th:object="${gift}">-->
                <!--            <section class="gift-details">-->
                <!--            <section class="gift-info text-center">-->
                <!--                <h4 id="gift-name" th:text="*{name}"></h4>-->
                <!--                <p>Author name: <span id="authorName" th:text="*{userEntity.username}"></span></p>-->
                <!--            </section>-->
                <!--            <section id="map"></section>-->
                <!--            <section class="gift-description text-center">-->
                <!--                <h4>Description:</h4>-->
                <!--                <p id="gift-description" th:text="*{description}">Description: </p>-->
                <!--            </section>-->
                <!--            <section class="gift-price text-center">-->
                <!--                <h4>Price:</h4>-->
                <!--                <p id="gift-price" th:text="*{price}">Price: </p>-->
                <!--            </section>-->
                <!--            <section class="gift-category text-center">-->
                <!--                <h4>Category:</h4>-->
                <!--                <p id="gift-category" th:text="*{category.categoryName}">Category: </p>-->
                <!--            </section>-->
                <!--            <section class="gallery text-center">-->
                <!--                <img class="rounded" th:each="p: *{pictures}" th:src="${p.url}" height="60%" alt="">-->
                <!--            </section>-->
                <!--            </section>-->

                <!--__________________________________DELETE GIFT____________________________________________________-->
                <!--            <section class="gift-delete text-center">-->
                <!--                <form th:action="@{/pages/admins/delete/{id}(id=*{id})}"-->
                <!--                      th:method="DELETE">-->
                <!--                    <button class="btn btn-primary" type="submit">DELETE</button>-->
                <!--                </form>-->
                <!--            </section>-->
                <section class="comments text-light">
                    <h1>Comments</h1>
                    <div>
                        <!-- Comments submission -->
                        <form id="commentForm" th:method="POST"
                              th:action="@{'/api/' + *{id} + '/comments'}">
                            <div class="form-group">
                                <h4>Leave a comment</h4>
                                <label for="message">Message</label>
                                <textarea name="message"
                                          id="message"
                                          cols="30"
                                          rows="5"
                                          class="form-control"
                                          style="background-color: white;"></textarea>
                                <small id="messageError" class="invalid-feedback">
                                    Message should be at least 10 characters.
                                </small>
                            </div>

                            <div class="form-group">
                                <input type="submit"
                                       class="btn btn-primary"
                                       id="postComment"
                                       value="Post Comment"/>
                            </div>
                        </form>
                        <!-- Comments submission -->
                    </div>

                    <!-- All comments section -->
                    <div>
                        <span id="commentCtnr"><!-- Comments section, filled in by script --></span>
                    </div>
                    <!-- EO: All comments section -->
                </section>
            </div>

        </div>
        <!-- Scripts: track and comments
        <script th:src="@{/js/track.js}"></script>-->
        <script th:src="@{/js/comments.js}"></script>

    </main>
</div>
<footer th:replace="fragments/commons::footer"></footer>
</body>

</html>
